
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Список участников</title>
<style>
  body{font-family:Arial,sans-serif;padding:20px;margin:0;}
  h2{font-size:16px;text-align:center;margin-bottom:20px;}
  .btn-container{text-align:center;margin-bottom:20px;}
  .btn{font-size:16px;padding:10px 20px;margin:0 5px;border:none;border-radius:5px;
       background:#D96B1C;color:#fff;cursor:pointer;}
  .btn:hover{background:#C36019;}
  table{width:100%;border-collapse:collapse;margin-top:20px;}
  th,td{border:1px solid #ccc;padding:10px;text-align:left;}
  th{background:#f4f4f4;cursor:pointer;}
  @media(max-width:480px){body{font-size:12px;padding:10px;}th,td{padding:4px;font-size:10px;}}
  .team-name{font-weight:bold;background:#f0f0f0;padding:6px;border-radius:4px;margin-bottom:4px;}
  .player{margin-left:8px;margin-bottom:2px;}
  .player-id{color:#555;font-size:0.9em;}
</style>
</head>
<body>
  <h2>Выберите Категорию</h2>
  <div class="btn-container">
    <button class="btn" onclick="filterGroup('A')">Начинающие</button>
    <button class="btn" onclick="filterGroup('B')">На разряд</button>
    <button class="btn" onclick="filterGroup('Командный')">Командный</button>
  </div>
  <table id="participants">
    <thead><tr id="tableHeader"></tr></thead>
    <tbody></tbody>
  </table>
<script>
  const participants = [{"group":"B","fullName":"Аверьянов Сергей Александрович","fshrId":"382890","rating":"1320","birthDate":"2011"},{"group":"B","fullName":"Смирнов Глеб Станиславович","fshrId":"648368","rating":"1316","birthDate":"2018"},{"group":"B","fullName":"Насретдинов Рустам Эльмирович","fshrId":"534913","rating":"1234","birthDate":"2017"},{"group":"B","fullName":"Леготин Игорь Георгиевич","fshrId":"468075","rating":"1128","birthDate":"2013"},{"group":"B","fullName":"Филинов Кирилл Русланович","fshrId":"421388","rating":"1109","birthDate":"2015"},{"group":"B","fullName":"Солдатов Игнат  Юрьевич ","fshrId":"527002","rating":"1042","birthDate":"2014"},{"group":"B","fullName":"Фесенко Иван Олегович","fshrId":"","rating":"","birthDate":"2015"},{"group":"Командный","teamName":"Мат в два хода","player1":"Поташев Федор Алексеевич ","player1Id":"692364","player2":"Кривоносов Александр Николаевич","player2Id":""},{"group":"B","fullName":"Конопский Андрей Валерьевич","fshrId":"687256","rating":"1231","birthDate":"2013"},{"group":"B","fullName":"Павколас Доминик  Ильич ","fshrId":"633285","rating":"1224","birthDate":"2017"},{"group":"B","fullName":"Ананьев Николай Евгеньевич","fshrId":"621581","rating":"1173","birthDate":"2015"},{"group":"B","fullName":"Гусаров  Макар  Андреевич ","fshrId":"700681","rating":"1023","birthDate":"2015"},{"group":"A","fullName":"Кабанов Степан Игоревич","fshrId":"155516","rating":"822","birthDate":"2016"},{"group":"A","fullName":"Григорьев Николай  Алексеевич ","fshrId":"156283","rating":"766","birthDate":"2017"},{"group":"A","fullName":"Чундоков  Дамир Тимурович","fshrId":"","rating":"","birthDate":"2018"},{"group":"Командный","teamName":"Медведи ","player1":"Фомичев Александр  Олегович","player1Id":"648423","player2":"Фомичев Олег Николаевич ","player2Id":""},{"group":"B","fullName":"Якубовский  Филипп  Геннадьевич","fshrId":"466817","rating":"1211","birthDate":"2017"},{"group":"B","fullName":"Величкин Пётр Васильевич","fshrId":"644168","rating":"1171","birthDate":"2016"},{"group":"B","fullName":"Белоусова Евдокия Дмитриевна","fshrId":"667552","rating":"1000","birthDate":"2015"},{"group":"B","fullName":"Золотов Владимир Дмитриевич","fshrId":"","rating":"","birthDate":"2014"},{"group":"Командный","teamName":"Два сапога пара","player1":"Лосев Марк Алексеевич","player1Id":"539776","player2":"Пономарев Владимир Александрович","player2Id":"472041"},{"group":"Командный","teamName":"Geometric ","player1":"Попов Демьян  Максимович ","player1Id":"669158","player2":"Шыхалиев Алекбер Афлатун оглы","player2Id":""},{"group":"A","fullName":"Ларин Александр Артемьевич","fshrId":"144996","rating":"691","birthDate":"2018"},{"group":"A","fullName":"Хорбенко Роман Геннадьевич","fshrId":"","rating":"","birthDate":"2015"},{"group":"B","fullName":"Баканаев Дени Даудович ","fshrId":"636624","rating":"1076","birthDate":"2016"},{"group":"B","fullName":"Давыдов Максим Алексеевич","fshrId":"669195","rating":"1000","birthDate":"2015"},{"group":"Командный","teamName":"Зайцы","player1":"Саломатов Николай  Дмитриевич ","player1Id":"593069","player2":"Саломатова Екатерина Дмитриевна ","player2Id":"665172"},{"group":"B","fullName":"Белинский Александр Сергеевич","fshrId":"","rating":"","birthDate":"2015"},{"group":"Командный","teamName":"Цунами","player1":"Борисюк Николай Александрович","player1Id":"539355","player2":"Борисюк Ирина Викторовна","player2Id":"632326"},{"group":"A","fullName":"Дорошенко Иван Константинович ","fshrId":"155766","rating":"772","birthDate":"2016"},{"group":"A","fullName":"Дейкин Денис Максимович","fshrId":"154217","rating":"620","birthDate":"2017"},{"group":"A","fullName":"Неподкосов Михаил Павлович","fshrId":"154866","rating":"562","birthDate":"2014"},{"group":"A","fullName":"Желтов Аркадий  Павлович","fshrId":"","rating":"","birthDate":"2014"},{"group":"B","fullName":"Сундетов Марсель Артурович","fshrId":"667579","rating":"1000","birthDate":"2018"},{"group":"Командный","teamName":"Ton618","player1":"Довгаль Анна Вадимовна","player1Id":"591963","player2":"Довгаль Виктор","player2Id":""},{"group":"Командный","teamName":"Охотники","player1":"Псырков Дмитрий Сергеевич","player1Id":"672034","player2":"Широков Виктор Николаевич","player2Id":""},{"group":"Командный","teamName":"Ослик_но_но","player1":"Павлов Алексей Николаевич","player1Id":"520335","player2":"Новикова Марина Сергеевна","player2Id":"673519"}];
  let currentGroup = 'A';
  let currentSortColumn = 'rating';
  let currentSortAsc = false;

  function sortBy(col) {
    if(currentGroup!=='A' && currentGroup!=='B') return;
    if(currentSortColumn===col) currentSortAsc=!currentSortAsc;
    else { currentSortColumn=col; currentSortAsc=false; }
    renderTable();
  }

  function renderTable() {
    const thead = document.getElementById('tableHeader');
    const tbody = document.querySelector('#participants tbody');
    tbody.innerHTML='';

    if(currentGroup==='A' || currentGroup==='B'){
      thead.innerHTML =
        '<th>#</th>' +
        '<th onclick="sortBy(\'fullName\')">ФИО</th>' +
        '<th onclick="sortBy(\'fshrId\')">'+(currentGroup==='A'?'ID РШТ':'ID ФШР')+'</th>' +
        '<th onclick="sortBy(\'birthDate\')">Год рождения</th>' +
        '<th onclick="sortBy(\'rating\')">Рейтинг</th>';
      let filtered = participants.filter(p=>p.group===currentGroup);
      filtered.sort((a,b)=>{
        let va=a[currentSortColumn]||'', vb=b[currentSortColumn]||'';
        let na=parseFloat(va), nb=parseFloat(vb);
        if(!isNaN(na)&&!isNaN(nb)) return currentSortAsc ? na-nb : nb-na;
        if(va<vb) return currentSortAsc?-1:1;
        if(va>vb) return currentSortAsc?1:-1;
        return 0;
      });
      filtered.forEach((p,i)=>{
        const row=document.createElement('tr');
        row.innerHTML=
          '<td>'+(i+1)+'</td>'+
          '<td>'+p.fullName+'</td>'+
          '<td>'+p.fshrId+'</td>'+
          '<td>'+p.birthDate+'</td>'+
          '<td>'+p.rating+'</td>';
        tbody.appendChild(row);
      });
    } else if(currentGroup==='Командный'){
      thead.innerHTML = '<th>#</th><th>Команда и игроки</th>';
      participants.filter(p=>p.group==='Командный')
        .forEach((p,i)=>{
          const row=document.createElement('tr');
          row.innerHTML=
            '<td>'+(i+1)+'</td>'+
            '<td>'+
              '<div class="team-name">'+p.teamName+'</div>'+
              '<div class="player">'+p.player1+
                ' <span class="player-id">('+p.player1Id+')</span></div>'+
              '<div class="player">'+p.player2+
                ' <span class="player-id">('+p.player2Id+')</span></div>'+
            '</td>';
          tbody.appendChild(row);
        });
    }
  }

  function filterGroup(g){
    currentGroup=g;
    renderTable();
  }

  window.onload=renderTable;
</script>
</body>
</html>