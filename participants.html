
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>?????? ??????????</title>
  <style>
    body{font-family:Arial,sans-serif;padding:20px;margin:0;}
    h2{font-size:16px;margin-bottom:20px;text-align:center;}
    .btn-container{text-align:center;margin-bottom:20px;}
    .btn{font-size:16px;padding:10px 20px;margin:5px;cursor:pointer;border:none;
         background:#D96B1C;color:#fff;border-radius:5px;}
    .btn:hover{background:#C36019;}
    table{width:100%;border-collapse:collapse;margin-top:20px;}
    th,td{padding:10px;border:1px solid #ccc;text-align:left;}
    th{background:#f4f4f4;cursor:pointer;}
    @media(max-width:480px){body{padding:10px;font-size:12px;}th,td{padding:4px;font-size:10px;}}
  </style>
</head>
<body>
  <h2>???????? ?????????</h2>
  <div class="btn-container">
    <button class="btn" onclick="filterGroup('A')">??????????</button>
    <button class="btn" onclick="filterGroup('B')">?? ??????</button>
    <button class="btn" onclick="filterGroup('?????????')">?????????</button>
  </div>
  <table id="participants">
    <thead><tr id="tableHeader"></tr></thead>
    <tbody></tbody>
  </table>
  <script>
    const participants = [{"fullName":"????????? ?????? ?????????????","fshrId":"382890","birthDate":"2011","rating":"1320","group":"B"},{"fullName":"??????? ???? ?????????????","fshrId":"648368","birthDate":"2018","rating":"1316","group":"B"},{"fullName":"??????????? ?????? ??????????","fshrId":"534913","birthDate":"2017","rating":"1234","group":"B"},{"fullName":"????????? ?????? ??????????","fshrId":"687256","birthDate":"2013","rating":"1231","group":"B"},{"fullName":"???????? ???????  ?????","fshrId":"633285","birthDate":"2017","rating":"1224","group":"B"},{"fullName":"??????? ??????? ??????????","fshrId":"621581","birthDate":"2015","rating":"1173","group":"B"},{"fullName":"??????? ????? ??????????","fshrId":"468075","birthDate":"2013","rating":"1128","group":"B"},{"fullName":"??????? ????? ??????????","fshrId":"692364","birthDate":"2017","rating":"1047","group":"?????????"},{"fullName":"???????  ?????  ?????????","fshrId":"700681","birthDate":"2015","rating":"1023","group":"B"},{"fullName":"??????? ?????? ????????","fshrId":"155516","birthDate":"2016","rating":"826","group":"A"},{"fullName":"????????? ???????  ??????????","fshrId":"156283","birthDate":"2017","rating":"766","group":"A"},{"fullName":"??????? ???? ????????","fshrId":"","birthDate":"2015","rating":"","group":"B"},{"fullName":"????????  ????? ?????????","fshrId":"","birthDate":"2018","rating":"","group":"A"},{"fullName":"??????? ?????????  ????????","fshrId":"648423","birthDate":"2016","rating":"","group":"?????????"},{"fullName":"??????? ???????? ??????????","fshrId":"","birthDate":"2014","rating":"","group":"B"}];
    let currentGroup='A', sortCol='rating', sortAsc=false;

    function sortBy(col){
      if(sortCol===col) sortAsc=!sortAsc;
      else{ sortCol=col; sortAsc=false; }
      renderTable();
    }

    function renderTable(){
      const th= document.getElementById('tableHeader');
      if(currentGroup==='A'){
        th.innerHTML=
          '<th>#</th>'+
          '<th onclick="sortBy(\'fullName\')">???</th>'+
          '<th onclick="sortBy(\'fshrId\')">ID ???</th>'+
          '<th onclick="sortBy(\'birthDate\')">???? ????????</th>'+
          '<th onclick="sortBy(\'rating\')">???????</th>';
      } else if(currentGroup==='B'){
        th.innerHTML=
          '<th>#</th>'+
          '<th onclick="sortBy(\'fullName\')">???</th>'+
          '<th onclick="sortBy(\'fshrId\')">ID ???</th>'+
          '<th onclick="sortBy(\'birthDate\')">???? ????????</th>'+
          '<th onclick="sortBy(\'rating\')">???????</th>';
      } else if(currentGroup==='?????????'){
        th.innerHTML=
          '<th>#</th>'+
          '<th onclick="sortBy(\'fullName\')">???</th>'+
          '<th onclick="sortBy(\'fshrId\')">ID</th>'+
          '<th onclick="sortBy(\'birthDate\')">???? ????????</th>'+
          '<th onclick="sortBy(\'rating\')">???????</th>';
      }

      const tbody = document.querySelector('#participants tbody');
      tbody.innerHTML='';
      const filtered = participants.filter(p=>p.group===currentGroup);
      filtered.sort((a,b)=>{
        const va= parseFloat(a[sortCol]||0), vb= parseFloat(b[sortCol]||0);
        if(!isNaN(va)&&!isNaN(vb)) return sortAsc?va-vb:vb-va;
        return a[sortCol]>b[sortCol]?(sortAsc?1:-1):(a[sortCol]<b[sortCol]?(sortAsc?-1:1):0);
      });
      filtered.forEach((p,i)=>{
        const row=document.createElement('tr');
        row.innerHTML=`<td>${i+1}</td><td>${p.fullName}</td><td>${p.fshrId}</td>
                       <td>${p.birthDate}</td><td>${p.rating}</td>`;
        tbody.appendChild(row);
      });
    }

    function filterGroup(g){ currentGroup=g; renderTable(); }
    window.onload = renderTable;
  </script>
</body>
</html>